<%= render 'layouts/navbar_edit' %>
<!-- < Add/Edit Offering -->

<p class="text-primary text-center"><%= flash[:notice] %></p>
<p class="text-danger text-center"><%= flash[:alert] %></p>

<%= form_for(@user) do |f| %>
  <% if @user.errors.any? %>
    <div id="error_explanation">
      <h5><%= pluralize(@user.errors.count, "error") %> prohibited change!</h5>
      <ul>
        <% @user.errors.full_messages.each do |msg| %>
          <li class="error"><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="container my-3">
    <div class="row mb-1">
      <div class="col-12"><%= f.label "About Me*", class: "" %></div>
    </div>
    <div class="row mb-3">
      <div class="col-12"><%= f.text_area :bio, placeholder: "", class: "no-border color-bottom-border", required: true %></div>
    </div>
  </div>

  <div class="container my-3" id="practice">
    <div class="row mb-3">
      <div class="col-12"><%= f.label "I Practice:", class: "" %></div>
    </div>

    <% if !@practices.empty? %>
      <div class="row">
        <div class="col-12">
          <%= form_tag user_practice_categories_url(@user), method: :post do %>
            <%= select_tag 'practice_category_id', options_from_collection_for_select(@practices, 'id', "name") %>
            <%= hidden_field_tag "user_id", @user.id %>
            <%= submit_tag "add practice area", class:"btn btn-secondary" %>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>

  <div class="container my-3" id="specialty">
    <div class="row mb-3">
      <div class="col-12"><%= f.label "I'm Known For:", class: "" %></div>
    </div>

    <% if !@specialties.empty? %>
      <div class="row">
        <div class="col-12">
          <%= form_tag user_specialty_categories_url(@user), method: :post do %>
            <%= select_tag 'specialty_category_id', options_from_collection_for_select(@specialties, 'id', "name") %>
            <%= hidden_field_tag "user_id", @user.id %>
            <%= submit_tag "add specialty area", class:"btn btn-secondary" %>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>

  <div class="container my-3" id="experience">
    <div class="row mb-3">
      <div class="col-12"><%= f.label "Certs & Experience:", class: "" %></div>
    </div>
    <%= form_for(@milestone) do |f| %>
      <% if @milestone.errors.any? %>
        <div id="error_explanation">
          <h5><%= pluralize(@milestone.errors.count, "error") %> prohibited change!</h5>
          <ul>
            <% @milestone.errors.full_messages.each do |msg| %>
              <li class="error"><%= msg %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="row">
        <div class="col-2"><%= f.select :month, 1..12 %></div>
        <div class="col-3"><%= f.select :year, (Time.zone.now.year - 100)..(Time.zone.now.year + 1) %></div>
        <div class="col-1"></div>
        <div class="col-6"><%= f.text_field :milestone, placeholder: "", class: "no-border color-bottom-border" %></div>
        <%= f.hidden_field :trainer_id, value: @user.id %>
      </div>
      <div class="row my-2">
        <div class="col-1"></div>
        <div class="col-10">
          <%= f.submit "add milestone", class:"btn btn-secondary btn-sm" %>
        </div>
        <div class="col-1"></div>
      </div>
    <% end %>

    <div class="row">
      <div class="col-8"></div>
      <div class="col-3">
        <%= f.submit 'Save', class: 'btn btn-secondary' %>
      </div>
      <div class="col-1"></div>
    </div>
  </div>
<% end %>

<!-- Additional elements (See form_btn.js)- added by clicking buttons above -->
